import{R as g,j as b,r as a}from"./app-CtOOS7DE.js";import{c as G,e as q,u as $,f as J,b as T,a as Q}from"./index-BGMcDQWq.js";import{u as M,S as D}from"./button-DoGT9RJy.js";import{P as L}from"./index-CXbiOPne.js";function X(e){const o=e+"CollectionProvider",[s,r]=G(o),[R,p]=s(o,{collectionRef:{current:null},itemMap:new Map}),v=d=>{const{scope:t,children:u}=d,m=g.useRef(null),n=g.useRef(new Map).current;return b.jsx(R,{scope:t,itemMap:n,collectionRef:m,children:u})};v.displayName=o;const I=e+"CollectionSlot",l=g.forwardRef((d,t)=>{const{scope:u,children:m}=d,n=p(I,u),i=M(t,n.collectionRef);return b.jsx(D,{ref:i,children:m})});l.displayName=I;const c=e+"CollectionItemSlot",x="data-radix-collection-item",E=g.forwardRef((d,t)=>{const{scope:u,children:m,...n}=d,i=g.useRef(null),F=M(t,i),w=p(c,u);return g.useEffect(()=>(w.itemMap.set(i,{ref:i,...n}),()=>void w.itemMap.delete(i))),b.jsx(D,{[x]:"",ref:F,children:m})});E.displayName=c;function C(d){const t=p(e+"CollectionConsumer",d);return g.useCallback(()=>{const m=t.collectionRef.current;if(!m)return[];const n=Array.from(m.querySelectorAll(`[${x}]`));return Array.from(t.itemMap.values()).sort((w,h)=>n.indexOf(w.ref.current)-n.indexOf(h.ref.current))},[t.collectionRef,t.itemMap])}return[{Provider:v,Slot:l,ItemSlot:E},C,r]}var Z=a.createContext(void 0);function ee(e){const o=a.useContext(Z);return e||o||"ltr"}function Ie(e){const[o,s]=a.useState(void 0);return q(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(R=>{if(!Array.isArray(R)||!R.length)return;const p=R[0];let v,I;if("borderBoxSize"in p){const l=p.borderBoxSize,c=Array.isArray(l)?l[0]:l;v=c.inlineSize,I=c.blockSize}else v=e.offsetWidth,I=e.offsetHeight;s({width:v,height:I})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),o}var _="rovingFocusGroup.onEntryFocus",te={bubbles:!1,cancelable:!0},A="RovingFocusGroup",[N,j,oe]=X(A),[re,be]=G(A,[oe]),[ne,se]=re(A),z=a.forwardRef((e,o)=>b.jsx(N.Provider,{scope:e.__scopeRovingFocusGroup,children:b.jsx(N.Slot,{scope:e.__scopeRovingFocusGroup,children:b.jsx(ce,{...e,ref:o})})}));z.displayName=A;var ce=a.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:R=!1,dir:p,currentTabStopId:v,defaultCurrentTabStopId:I,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:x=!1,...E}=e,C=a.useRef(null),d=M(o,C),t=ee(p),[u=null,m]=$({prop:v,defaultProp:I,onChange:l}),[n,i]=a.useState(!1),F=J(c),w=j(s),h=a.useRef(!1),[B,O]=a.useState(0);return a.useEffect(()=>{const f=C.current;if(f)return f.addEventListener(_,F),()=>f.removeEventListener(_,F)},[F]),b.jsx(ne,{scope:s,orientation:r,dir:t,loop:R,currentTabStopId:u,onItemFocus:a.useCallback(f=>m(f),[m]),onItemShiftTab:a.useCallback(()=>i(!0),[]),onFocusableItemAdd:a.useCallback(()=>O(f=>f+1),[]),onFocusableItemRemove:a.useCallback(()=>O(f=>f-1),[]),children:b.jsx(L.div,{tabIndex:n||B===0?-1:0,"data-orientation":r,...E,ref:d,style:{outline:"none",...e.style},onMouseDown:T(e.onMouseDown,()=>{h.current=!0}),onFocus:T(e.onFocus,f=>{const H=!h.current;if(f.target===f.currentTarget&&H&&!n){const P=new CustomEvent(_,te);if(f.currentTarget.dispatchEvent(P),!P.defaultPrevented){const y=w().filter(S=>S.focusable),V=y.find(S=>S.active),Y=y.find(S=>S.id===u),W=[V,Y,...y].filter(Boolean).map(S=>S.ref.current);U(W,x)}}h.current=!1}),onBlur:T(e.onBlur,()=>i(!1))})})}),k="RovingFocusGroupItem",K=a.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:R=!1,tabStopId:p,...v}=e,I=Q(),l=p||I,c=se(k,s),x=c.currentTabStopId===l,E=j(s),{onFocusableItemAdd:C,onFocusableItemRemove:d}=c;return a.useEffect(()=>{if(r)return C(),()=>d()},[r,C,d]),b.jsx(N.ItemSlot,{scope:s,id:l,focusable:r,active:R,children:b.jsx(L.span,{tabIndex:x?0:-1,"data-orientation":c.orientation,...v,ref:o,onMouseDown:T(e.onMouseDown,t=>{r?c.onItemFocus(l):t.preventDefault()}),onFocus:T(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:T(e.onKeyDown,t=>{if(t.key==="Tab"&&t.shiftKey){c.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const u=ue(t,c.orientation,c.dir);if(u!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey)return;t.preventDefault();let n=E().filter(i=>i.focusable).map(i=>i.ref.current);if(u==="last")n.reverse();else if(u==="prev"||u==="next"){u==="prev"&&n.reverse();const i=n.indexOf(t.currentTarget);n=c.loop?le(n,i+1):n.slice(i+1)}setTimeout(()=>U(n))}})})})});K.displayName=k;var ie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ae(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ue(e,o,s){const r=ae(e.key,s);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ie[r]}function U(e,o=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:o}),document.activeElement!==s))return}function le(e,o){return e.map((s,r)=>e[(o+r)%e.length])}var Re=z,Ce=K;export{Ce as I,Re as R,Ie as a,X as b,be as c,ee as u};
