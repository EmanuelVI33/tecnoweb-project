var _e=Object.defineProperty;var Me=(t,s,a)=>s in t?_e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var k=(t,s,a)=>Me(t,typeof s!="symbol"?s+"":s,a);import{j as e,r as n,q as P,W as _,a as $e}from"./app-D9kGQBXh.js";import{T as Le}from"./sonner-CUx76lw0.js";import{N as Ie}from"./NavLink-4YUT0Opu.js";import{F as Oe,D as j,R as E}from"./FontSizeDropdown-mKDBlrsq.js";import{u as M,c as y,a as Fe,P as Ve}from"./react-icons.esm-BH_x2G79.js";import{P as N}from"./index-ByB6VNXR.js";import{c as ze}from"./index-Bb4qSo10.js";import{c as p}from"./shadcn-8RyR4BqC.js";import{u as $}from"./selected-project-Dar6F1yw.js";import{J as A}from"./index-CWkqUZe2.js";import{u as w}from"./index-CDxS4wTc.js";import{I as Ge}from"./Image-BAVSkOZh.js";import{c as L}from"./index-Boewekj5.js";import{e as I,d as Be,f as qe,I as We}from"./radio-group-Cf9TLQm0.js";import{u as O,a as He,b as F,B as Je}from"./button-B0ZPEqu0.js";import{a as b}from"./element.model-r3-WMhpT.js";import{E as Ke,T as Ue}from"./TabPresenter-BCgPpbrP.js";import{E as Ye,T as Qe}from"./TabVideo-atkl75UE.js";import Xe from"./Timeline-B7jo-qtn.js";import{c as V,b as Ze,O as et,W as tt,C as st,T as at,D as ot,a as z,P as rt,R as nt}from"./index-lkwCfluS.js";import it from"./Player-BhguPdVa.js";import"./transition-Dv0NEhRD.js";import"./index-BBdyYUoz.js";import"./zod-DYv8pRsu.js";import"./input-9ABtqLpG.js";import"./element-presenter.model-DAjEEdYv.js";import"./card-BGAAl6xy.js";import"./index-DbwaKBWZ.js";function lt(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"2rem",viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M21 7v12q0 .825-.587 1.413T19 21H5q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h12zm-9 11q1.25 0 2.125-.875T15 15t-.875-2.125T12 12t-2.125.875T9 15t.875 2.125T12 18m-6-8h9V6H6z"})})}var ct="Toggle",G=n.forwardRef((t,s)=>{const{pressed:a,defaultPressed:o=!1,onPressedChange:r,...l}=t,[i=!1,c]=M({prop:a,onChange:r,defaultProp:o});return e.jsx(N.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:s,onClick:y(t.onClick,()=>{t.disabled||c(!i)})})});G.displayName=ct;var B=G;const dt=ze("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),q=n.forwardRef(({className:t,variant:s,size:a,...o},r)=>e.jsx(B,{ref:r,className:p(dt({variant:s,size:a,className:t})),...o}));q.displayName=B.displayName;function mt(){const{isSave:t,togleSave:s,elements:a}=$(),{props:{project:o}}=P(),{data:r,post:l,wasSuccessful:i,errors:c}=_({elements:[],project_id:o.id.toString()});n.useEffect(()=>{i&&(A.success("Presentador registrado exitosamente"),s())},[i]),n.useEffect(()=>{c.elements&&A.error("Error al guardar proyecto")},[c.elements]);const f=()=>{t||a.length<1||(r.elements=a,l(route("elements.store")))};return e.jsx(q,{pressed:!t,onPressedChange:f,children:e.jsx(lt,{})})}function ut(){const[t,s]=n.useState(!1),{props:a}=P(),{auth:{user:o}}=a,r=a.project,[l,i]=w("dark",!1),[c,f]=w("fontSize","text-base");n.useEffect(()=>{l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]),n.useEffect(()=>{document.documentElement.classList.remove("text-xs","text-sm","text-base","text-lg","text-xl","text-2xl"),document.documentElement.classList.add(c)},[c]);const d=()=>{document.documentElement.classList.toggle("dark"),i(!l)},m=u=>{f(u)};return e.jsxs("nav",{className:"bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 border-b border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between ali h-16",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"shrink-0 flex items-center",children:e.jsx($e,{href:"/",children:e.jsx(Ge,{src:"Logo.jpg",alt:"Logo",className:"h-14"})})}),e.jsx("div",{className:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex",children:e.jsx(Ie,{href:route("projects.index"),active:route().current("projects"),children:"Proyectos"})})]}),r&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 justify-center items-center text-xs md:text-sm text-center truncate ",children:[e.jsx("p",{className:"font-medium",children:r.name}),e.jsx("p",{children:r.presenter.full_name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"hidden sm:flex sm:items-center sm:ms-6",children:[e.jsx("button",{className:"rounded text-gray-900 dark:text-gray-100 hover:bg-slate-100 dark:hover:bg-slate-700 px-1 ml-4",onClick:d,children:"ðŸŒ™"}),e.jsx(Oe,{changeFontSize:m}),e.jsx("div",{className:"ms-3 relative",children:e.jsxs(j,{children:[e.jsx(j.Trigger,{children:e.jsx("div",{className:" text-slate-600 dark:bg-transparent dark:bg-slate-800 dark:text-white flex gap-2 justify-center items-center",children:e.jsx("span",{className:"inline-flex rounded-md",children:e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white dark:bg-gray-700 dark:text-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150",children:[o.name,e.jsx("svg",{className:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})})}),e.jsxs(j.Content,{children:[e.jsx(j.Link,{href:route("profile.edit"),children:"Perfil"}),e.jsx(j.Link,{href:route("logout"),method:"post",as:"button",children:"Cerrar SesiÃ³n"})]})]})})]}),e.jsx(mt,{})]}),e.jsx("div",{className:"-me-2 flex items-center sm:hidden",children:e.jsx("button",{onClick:()=>s(u=>!u),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out",children:e.jsxs("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("path",{className:t?"hidden":"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),e.jsx("path",{className:t?"inline-flex":"hidden",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})]})})})]})}),e.jsxs("div",{className:(t?"block":"hidden")+" sm:hidden",children:[e.jsx("div",{className:"pt-2 pb-3 space-y-1",children:e.jsx(E,{href:route("projects.index"),active:route().current("projects"),children:"Dashboard"})}),e.jsxs("div",{className:"pt-4 pb-1 border-t border-gray-200",children:[e.jsxs("div",{className:"px-4",children:[e.jsx("div",{className:"font-medium text-base text-gray-800",children:o==null?void 0:o.name}),e.jsx("div",{className:"font-medium text-sm text-gray-500",children:o==null?void 0:o.email})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(E,{href:route("profile.edit"),children:"Perfil"}),e.jsx(E,{method:"post",href:route("logout"),as:"button",children:"Cerrar SesiÃ³n"})]})]})]})]})}function ft({children:t}){const[s,a]=w("dark",!1),[o,r]=w("fontSize","text-base");return n.useEffect(()=>{s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]),n.useEffect(()=>{document.documentElement.classList.remove("text-xs","text-sm","text-base","text-lg","text-xl","text-2xl"),document.documentElement.classList.add(o)},[o]),e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(ut,{}),e.jsx(Le,{}),e.jsx("main",{className:"h-screen",children:t})]})}var S="Tabs",[gt,us]=L(S,[I]),W=I(),[pt,R]=gt(S),H=n.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,onValueChange:r,defaultValue:l,orientation:i="horizontal",dir:c,activationMode:f="automatic",...d}=t,m=Be(c),[u,g]=M({prop:o,onChange:r,defaultProp:l});return e.jsx(pt,{scope:a,baseId:Fe(),value:u,onValueChange:g,orientation:i,dir:m,activationMode:f,children:e.jsx(N.div,{dir:m,"data-orientation":i,...d,ref:s})})});H.displayName=S;var J="TabsList",K=n.forwardRef((t,s)=>{const{__scopeTabs:a,loop:o=!0,...r}=t,l=R(J,a),i=W(a);return e.jsx(qe,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:o,children:e.jsx(N.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:s})})});K.displayName=J;var U="TabsTrigger",Y=n.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,disabled:r=!1,...l}=t,i=R(U,a),c=W(a),f=Z(i.baseId,o),d=ee(i.baseId,o),m=o===i.value;return e.jsx(We,{asChild:!0,...c,focusable:!r,active:m,children:e.jsx(N.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:f,...l,ref:s,onMouseDown:y(t.onMouseDown,u=>{!r&&u.button===0&&u.ctrlKey===!1?i.onValueChange(o):u.preventDefault()}),onKeyDown:y(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&i.onValueChange(o)}),onFocus:y(t.onFocus,()=>{const u=i.activationMode!=="manual";!m&&!r&&u&&i.onValueChange(o)})})})});Y.displayName=U;var Q="TabsContent",X=n.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,forceMount:r,children:l,...i}=t,c=R(Q,a),f=Z(c.baseId,o),d=ee(c.baseId,o),m=o===c.value,u=n.useRef(m);return n.useEffect(()=>{const g=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(Ve,{present:r||m,children:({present:g})=>e.jsx(N.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!g,id:d,tabIndex:0,...i,ref:s,style:{...t.style,animationDuration:u.current?"0s":void 0},children:g&&l})})});X.displayName=Q;function Z(t,s){return`${t}-trigger-${s}`}function ee(t,s){return`${t}-content-${s}`}var xt=H,te=K,se=Y,ae=X;const vt=xt,oe=n.forwardRef(({className:t,...s},a)=>e.jsx(te,{ref:a,className:p("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...s}));oe.displayName=te.displayName;const D=n.forwardRef(({className:t,...s},a)=>e.jsx(se,{ref:a,className:p("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...s}));D.displayName=se.displayName;const T=n.forwardRef(({className:t,...s},a)=>e.jsx(ae,{ref:a,className:p("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));T.displayName=ae.displayName;class C{static createElement(s){const{id:a,title:o,type:r,element:l,video_url:i}=s,c=(l==null?void 0:l.video_id)??"";console.log(`type Element ${r}`);const f=this.creators[r];if(!f)throw new Error(`Unknown element type: ${r}`);let d={id:a.toString(),title:o,videoUrl:i,type:r,videoId:c};if(r===b.PRESENTER&&l){const{content:m,expression:u}=l;d={...d,content:m,expression:u}}else r===b.VIDEO&&(d={...d});return f.createElement(d)}}k(C,"creators",{[b.PRESENTER]:new Ke,[b.VIDEO]:new Ye});class ht{static fromElementResponseToEntity(s){return s.map(C.createElement.bind(C))}}const re=n.createContext({open:!1,toggleModal:()=>{}}),jt=({children:t})=>{const[s,a]=n.useState(!1),o=()=>{a(r=>!r)};return e.jsx(re.Provider,{value:{open:s,toggleModal:o},children:t})},bt=t=>s=>e.jsx(jt,{children:e.jsx(t,{...s})}),ne=()=>n.useContext(re),yt=bt;var ie="AlertDialog",[Nt,fs]=L(ie,[V]),x=V(),le=t=>{const{__scopeAlertDialog:s,...a}=t,o=x(s);return e.jsx(nt,{...o,...a,modal:!0})};le.displayName=ie;var wt="AlertDialogTrigger",Et=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,r=x(a);return e.jsx(Ze,{...r,...o,ref:s})});Et.displayName=wt;var At="AlertDialogPortal",ce=t=>{const{__scopeAlertDialog:s,...a}=t,o=x(s);return e.jsx(rt,{...o,...a})};ce.displayName=At;var Dt="AlertDialogOverlay",de=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,r=x(a);return e.jsx(et,{...r,...o,ref:s})});de.displayName=Dt;var v="AlertDialogContent",[Tt,Ct]=Nt(v),me=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,children:o,...r}=t,l=x(a),i=n.useRef(null),c=O(s,i),f=n.useRef(null);return e.jsx(tt,{contentName:v,titleName:ue,docsSlug:"alert-dialog",children:e.jsx(Tt,{scope:a,cancelRef:f,children:e.jsxs(st,{role:"alertdialog",...l,...r,ref:c,onOpenAutoFocus:y(r.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=f.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(He,{children:o}),e.jsx(Rt,{contentRef:i})]})})})});me.displayName=v;var ue="AlertDialogTitle",fe=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,r=x(a);return e.jsx(at,{...r,...o,ref:s})});fe.displayName=ue;var ge="AlertDialogDescription",pe=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,r=x(a);return e.jsx(ot,{...r,...o,ref:s})});pe.displayName=ge;var St="AlertDialogAction",xe=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,r=x(a);return e.jsx(z,{...r,...o,ref:s})});xe.displayName=St;var ve="AlertDialogCancel",he=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,{cancelRef:r}=Ct(ve,a),l=x(a),i=O(s,r);return e.jsx(z,{...l,...o,ref:i})});he.displayName=ve;var Rt=({contentRef:t})=>{const s=`\`${v}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${v}\` by passing a \`${ge}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${v}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var o;document.getElementById((o=t.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},kt=le,Pt=ce,je=de,be=me,ye=xe,Ne=he,we=fe,Ee=pe;const _t=kt,Mt=Pt,Ae=n.forwardRef(({className:t,...s},a)=>e.jsx(je,{className:p("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));Ae.displayName=je.displayName;const De=n.forwardRef(({className:t,...s},a)=>e.jsxs(Mt,{children:[e.jsx(Ae,{}),e.jsx(be,{ref:a,className:p("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));De.displayName=be.displayName;const Te=({className:t,...s})=>e.jsx("div",{className:p("flex flex-col space-y-2 text-center sm:text-left",t),...s});Te.displayName="AlertDialogHeader";const Ce=({className:t,...s})=>e.jsx("div",{className:p("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Ce.displayName="AlertDialogFooter";const Se=n.forwardRef(({className:t,...s},a)=>e.jsx(we,{ref:a,className:p("text-lg font-semibold",t),...s}));Se.displayName=we.displayName;const Re=n.forwardRef(({className:t,...s},a)=>e.jsx(Ee,{ref:a,className:p("text-sm text-muted-foreground",t),...s}));Re.displayName=Ee.displayName;const ke=n.forwardRef(({className:t,...s},a)=>e.jsx(ye,{ref:a,className:p(F(),t),...s}));ke.displayName=ye.displayName;const Pe=n.forwardRef(({className:t,...s},a)=>e.jsx(Ne,{ref:a,className:p(F({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));Pe.displayName=Ne.displayName;const $t=({error:t})=>{const{message:s,statu:a}=t,{open:o,toggleModal:r}=ne();return e.jsx(_t,{open:o,onOpenChange:()=>r,children:e.jsxs(De,{children:[e.jsxs(Te,{children:[e.jsxs(Se,{children:["Error: ",a]}),e.jsx(Re,{children:s})]}),e.jsxs(Ce,{children:[e.jsx(Pe,{onClick:()=>r(),children:"Cancel"}),e.jsx(ke,{onClick:()=>r(),children:"Continue"})]})]})})};function Lt({project:t,success:s,error:a}){console.log(a);const{toggleModal:o}=ne(),{initElement:r,elements:l,togleSave:i}=$(),{post:c,wasSuccessful:f,data:d,errors:m}=_({elements:[],project_id:t.id.toString()});n.useEffect(()=>{console.log("activado"),s?(A.success("Generando vÃ­deos"),i()):a!=null&&o()},[f,s,m]),n.useEffect(()=>{const g=ht.fromElementResponseToEntity(t.elements);r(g)},[]);const u=async()=>{console.log(`Elementos ${JSON.stringify(l)}`);const g=l.filter(h=>h.type===b.PRESENTER).filter(h=>!h.videoUrl);console.log(`Elementos ${JSON.stringify(g)}`),!(g.length<1)&&(d.elements=g,c(route("elements.generate",t.id),{onError:h=>{console.log(h)}}))};return e.jsx(ft,{children:e.jsxs("div",{className:"grid grid-rows-4 h-full",children:[e.jsxs("div",{className:"row-span-3 grid grid-cols-2 h-full",children:[e.jsxs(vt,{defaultValue:"account",className:"bg-gray-200 dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-4 py-1",color:"",children:[e.jsxs(oe,{className:"",children:[e.jsx(D,{value:"account",className:"",children:"Presentador"}),e.jsx(D,{value:"password",children:"Video"})]}),e.jsx(T,{value:"account",children:e.jsx(Ue,{})}),e.jsx(T,{value:"password",children:e.jsx(Qe,{})})]}),e.jsx(it,{})]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-100 row-span-1 ",children:[e.jsxs("div",{className:"flex justify-between mx-5",children:[e.jsx("h1",{className:"text-2xl tracking-tight hover:tracking-wid font-bold",children:"Guion"}),e.jsx(Je,{onClick:u,children:"Generar contenido"})]}),e.jsx(Xe,{})]}),a&&e.jsx($t,{error:a})]})})}const gs=yt(Lt);export{gs as default};
