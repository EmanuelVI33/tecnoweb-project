import{j as e,W as C,r as j}from"./app-D4WdeBgv.js";import{A as E}from"./AuthenticatedLayout-CRxXgoJ6.js";import{B as h}from"./button-MlKlOAvm.js";import{D as R,a as S,b as v,c as D,e as A}from"./dialog-BVslwTB1.js";import{o as I,s as b,e as M,u as T,t as L,F as O,a as d,b as i,c as m,d as c,f as u}from"./zod-D6hxcJ8N.js";import{J as w}from"./index-Db91KY7L.js";import{R as B,a as N}from"./radio-group-j-QN2aqr.js";import{I as _}from"./input-CfVHs3hz.js";import{S as f}from"./presenter-CLZs53NS.js";import"./FontSizeDropdown-C-2vlgmP.js";import"./transition-8PstCaKi.js";import"./NavLink-R5_QJ_sa.js";import"./sonner-DnOjYiD1.js";import"./index-d4UfEwCl.js";import"./index-Bb4qSo10.js";import"./shadcn-8RyR4BqC.js";import"./index-CvwgnKm9.js";import"./react-icons.esm-w3EbmmaP.js";import"./index-HeRY_VCP.js";import"./index-BqN_YW6T.js";import"./index-BYYKLGec.js";function k({children:t,titleButton:o,title:n,open:a=!1,handleTogleModal:r}){return e.jsxs(R,{open:a,onOpenChange:r,children:[e.jsx(h,{type:"button",onClick:()=>r(),children:o}),e.jsxs(S,{className:"sm:max-w-[625px]",children:[e.jsx(v,{children:e.jsx(D,{children:n})}),t,e.jsx(A,{className:"sm:justify-start"})]})]})}const G=I({full_name:b().min(3),sex:M([f.MALE,f.FEMALE]),photo_url:b()}),J={full_name:"",sex:f.MALE,photo_url:void 0};function V({handleCloseModal:t}){const{data:o,post:n,processing:a,errors:r,progress:p,wasSuccessful:g}=C(J),l=T({resolver:L(G)}),x=j.useRef(null),y=s=>{var F;console.log(s),x.current&&x.current.files&&(o.photo_url=(F=x.current)==null?void 0:F.files[0]),o.full_name=s.full_name,o.sex=s.sex,n("/presenters")};return j.useEffect(()=>{g&&(w.success("Presentador registrado exitosamente"),t())},[g]),e.jsx(e.Fragment,{children:e.jsx(O,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(y),children:[e.jsx(d,{control:l.control,name:"full_name",render:({field:s})=>e.jsxs(i,{className:"mb-3",children:[e.jsx(m,{children:"Nombre Completo"}),e.jsx(c,{children:e.jsxs(e.Fragment,{children:[e.jsx(_,{placeholder:"nombre completo",...s}),r.full_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.full_name})]})}),e.jsx(u,{})]})}),e.jsx(d,{control:l.control,name:"sex",render:({field:s})=>e.jsxs(i,{className:"mb-3",children:[e.jsx(m,{children:"Sexo"}),e.jsx(c,{children:e.jsxs(e.Fragment,{children:[e.jsxs(B,{onValueChange:s.onChange,defaultValue:s.value,className:"flex gap-4 space-y-1",children:[e.jsxs(i,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(c,{children:e.jsx(N,{value:"male"})}),e.jsx(m,{className:"font-normal",children:"Masculino"})]}),e.jsxs(i,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(c,{children:e.jsx(N,{value:"female"})}),e.jsx(m,{className:"font-normal",children:"Femenino"})]})]}),r.sex&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.sex})]})}),e.jsx(u,{})]})}),e.jsx(d,{control:l.control,name:"photo_url",render:({field:s})=>e.jsxs(i,{className:"mb-3",children:[e.jsx(m,{children:"Foto"}),e.jsx(c,{children:e.jsxs(e.Fragment,{children:[e.jsx(_,{type:"file",placeholder:"foto",...s,ref:x}),r.photo_url&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.photo_url})]})}),e.jsx(u,{})]})}),p&&e.jsxs("progress",{value:p.percentage,max:"100",children:[p.percentage,"%"]}),e.jsxs("div",{className:"flex justify-between gap-5 mt-5",children:[e.jsx(h,{type:"button",variant:"destructive",onClick:()=>t(),children:"Cancelar"}),e.jsx(h,{type:"submit",disabled:a,children:"Registrar"})]})]})})})}function H(){const[t,o]=j.useState(!1),n=()=>{o(a=>!a)};return e.jsx(k,{open:t,handleTogleModal:n,title:"Registrando presentador",titleButton:"Registrar presentador",children:e.jsx(V,{handleCloseModal:n})})}function ce({auth:t,presenters:o}){return e.jsx(E,{user:t.user,children:e.jsx(H,{})})}export{ce as default};
