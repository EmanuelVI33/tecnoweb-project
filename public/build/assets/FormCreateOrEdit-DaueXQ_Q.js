import{W as E,r as h,j as e}from"./app-mIvgi7q9.js";import{o as v,s as f,e as R,u as S,F as C,a as i,b as o,c as a,d as l,f as x,t as I}from"./form-yCao3SMx.js";import{J as L}from"./index-CKklIE-u.js";import{B as g}from"./button-BhpuKSDX.js";import{R as M,a as F}from"./radio-group--8rXvaH7.js";import{I as b}from"./input-R55A_0He.js";import{S as p}from"./presenter-CLZs53NS.js";import"./shadcn-C-5SdYIA.js";import"./index-lWbRec8w.js";import"./index-MOI7GUpq.js";import"./index-0OVkvYRM.js";const A=v({full_name:f().min(3),sex:R([p.MALE,p.FEMALE]),photo_url:f()}),T={full_name:"",sex:p.MALE,photo_url:void 0};function D({handleCloseModal:d}){const{data:m,post:N,processing:_,errors:r,progress:c,wasSuccessful:u}=E(T),t=S({resolver:I(A)}),n=h.useRef(null),y=s=>{var j;console.log(s),n.current&&n.current.files&&(m.photo_url=(j=n.current)==null?void 0:j.files[0]),m.full_name=s.full_name,m.sex=s.sex,N("/presenters")};return h.useEffect(()=>{u&&(L.success("Presentador registrado exitosamente"),d())},[u]),e.jsx(e.Fragment,{children:e.jsx(C,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(y),children:[e.jsx(i,{control:t.control,name:"full_name",render:({field:s})=>e.jsxs(o,{className:"mb-3",children:[e.jsx(a,{children:"Nombre Completo"}),e.jsx(l,{children:e.jsxs(e.Fragment,{children:[e.jsx(b,{placeholder:"nombre completo",...s}),r.full_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.full_name})]})}),e.jsx(x,{})]})}),e.jsx(i,{control:t.control,name:"sex",render:({field:s})=>e.jsxs(o,{className:"mb-3",children:[e.jsx(a,{children:"Sexo"}),e.jsx(l,{children:e.jsxs(e.Fragment,{children:[e.jsxs(M,{onValueChange:s.onChange,defaultValue:s.value,className:"flex gap-4 space-y-1",children:[e.jsxs(o,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(l,{children:e.jsx(F,{value:"male"})}),e.jsx(a,{className:"font-normal",children:"Masculino"})]}),e.jsxs(o,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(l,{children:e.jsx(F,{value:"female"})}),e.jsx(a,{className:"font-normal",children:"Femenino"})]})]}),r.sex&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.sex})]})}),e.jsx(x,{})]})}),e.jsx(i,{control:t.control,name:"photo_url",render:({field:s})=>e.jsxs(o,{className:"mb-3",children:[e.jsx(a,{children:"Foto"}),e.jsx(l,{children:e.jsxs(e.Fragment,{children:[e.jsx(b,{type:"file",placeholder:"foto",...s,ref:n}),r.photo_url&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.photo_url})]})}),e.jsx(x,{})]})}),c&&e.jsxs("progress",{value:c.percentage,max:"100",children:[c.percentage,"%"]}),e.jsxs("div",{className:"flex justify-between gap-5 mt-5",children:[e.jsx(g,{type:"button",variant:"destructive",onClick:()=>d(),children:"Cancelar"}),e.jsx(g,{type:"submit",disabled:_,children:"Registrar"})]})]})})})}export{D as default};
