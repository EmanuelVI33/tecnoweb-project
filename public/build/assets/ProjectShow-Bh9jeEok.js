var Pe=Object.defineProperty;var Se=(t,a,s)=>a in t?Pe(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;var P=(t,a,s)=>Se(t,typeof a!="symbol"?a+"":a,s);import{j as e,r as n,q as w,W as S,a as ke,y as _e}from"./app-CYo2BHhq.js";import{N as Me,T as $e}from"./sonner-C8b32o-S.js";import{D as h,R as N}from"./ResponsiveNavLink-CNak4_nl.js";import{u as k,a as b,c as _,d as Ie,P as Oe}from"./react-icons.esm-DLAhO6Du.js";import{P as y}from"./index-Dey2kMbG.js";import{c as Le,u as M,a as Ve,b as $,B as Fe}from"./button-CzNbViCz.js";import{c as g}from"./shadcn-C-5SdYIA.js";import{u as I}from"./selected-project-Br4KN_Fa.js";import{e as O,d as Ge,f as ze,I as Be}from"./radio-group-Cf2nLolM.js";import{a as j}from"./element.model-r3-WMhpT.js";import{E as qe,T as We}from"./TabPresenter-DaFumvIn.js";import{E as He,T as Je}from"./TabVideo-DRRYdPdH.js";import{J as Ke}from"./index-D4ankv4Q.js";import Ue from"./Timeline-DNpYWHCx.js";import{c as L,b as Ye,O as Qe,W as Xe,C as Ze,T as et,D as tt,a as V,P as at,R as st}from"./index-Ojewq-dv.js";import rt from"./Player-U0umSIgq.js";import"./transition-BGFIUmFy.js";import"./index-CW6atUDg.js";import"./zod-BXRWu9-D.js";import"./element-presenter.model-DAjEEdYv.js";import"./index-DKVN-ldA.js";function ot(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"2rem",viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M21 7v12q0 .825-.587 1.413T19 21H5q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h12zm-9 11q1.25 0 2.125-.875T15 15t-.875-2.125T12 12t-2.125.875T9 15t.875 2.125T12 18m-6-8h9V6H6z"})})}const F=n.createContext({open:!1,toggleModal:()=>{}}),nt=({children:t})=>{const[a,s]=n.useState(!1),r=()=>{s(o=>!o)};return e.jsx(F.Provider,{value:{open:a,toggleModal:r},children:t})},it=t=>a=>e.jsx(nt,{children:e.jsx(t,{...a})}),E=()=>n.useContext(F),lt=it;var ct="Toggle",G=n.forwardRef((t,a)=>{const{pressed:s,defaultPressed:r=!1,onPressedChange:o,...l}=t,[i=!1,u]=k({prop:s,onChange:o,defaultProp:r});return e.jsx(y.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:a,onClick:b(t.onClick,()=>{t.disabled||u(!i)})})});G.displayName=ct;var z=G;const dt=Le("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),B=n.forwardRef(({className:t,variant:a,size:s,...r},o)=>e.jsx(z,{ref:o,className:g(dt({variant:a,size:s,className:t})),...r}));B.displayName=z.displayName;function mt(){E(),w().props;const{isSave:t,togleSave:a,elements:s}=I(),{props:{project:r}}=w(),{data:o,post:l,wasSuccessful:i,errors:u}=S({elements:[],project_id:r.id.toString()}),p=()=>{t||s.length<1||(o.elements=s,l("/elements"))};return e.jsx(B,{pressed:!t,onPressedChange:p,children:e.jsx(ot,{})})}function ut(){const[t,a]=n.useState(!1),{props:s}=w(),{auth:{user:r}}=s,o=s.project,l=()=>{document.documentElement.classList.toggle("dark")};return e.jsxs("nav",{className:"bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 border-b border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between ali h-16",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"shrink-0 flex items-center",children:e.jsx(ke,{href:"/",children:e.jsx("img",{className:"h-14",src:"/Logo.jpg",alt:""})})}),e.jsx("div",{className:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex",children:e.jsx(Me,{href:route("projects.index"),active:route().current("projects"),children:"Proyectos"})})]}),o&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 justify-center items-center text-xs md:text-sm text-center truncate ",children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsx("p",{children:o.presenter.full_name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"hidden sm:flex sm:items-center sm:ms-6",children:[e.jsx("button",{className:"rounded text-gray-900 dark:text-gray-100 hover:bg-slate-100 dark:hover:bg-slate-700 px-1 ml-4",onClick:l,children:"ðŸŒ™"}),e.jsx("div",{className:"ms-3 relative",children:e.jsxs(h,{children:[e.jsx(h.Trigger,{children:e.jsx("div",{className:" text-slate-600 dark:bg-transparent dark:bg-slate-800 dark:text-white flex gap-2 justify-center items-center",children:e.jsx("span",{className:"inline-flex rounded-md",children:e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white dark:bg-gray-700 dark:text-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150",children:[r.name,e.jsx("svg",{className:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})})}),e.jsxs(h.Content,{children:[e.jsx(h.Link,{href:route("profile.edit"),children:"Perfil"}),e.jsx(h.Link,{href:route("logout"),method:"post",as:"button",children:"Cerrar SesiÃ³n"})]})]})})]}),e.jsx(mt,{})]}),e.jsx("div",{className:"-me-2 flex items-center sm:hidden",children:e.jsx("button",{onClick:()=>a(i=>!i),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out",children:e.jsxs("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("path",{className:t?"hidden":"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),e.jsx("path",{className:t?"inline-flex":"hidden",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})]})})})]})}),e.jsxs("div",{className:(t?"block":"hidden")+" sm:hidden",children:[e.jsx("div",{className:"pt-2 pb-3 space-y-1",children:e.jsx(N,{href:route("projects.index"),active:route().current("projects"),children:"Dashboard"})}),e.jsxs("div",{className:"pt-4 pb-1 border-t border-gray-200",children:[e.jsxs("div",{className:"px-4",children:[e.jsx("div",{className:"font-medium text-base text-gray-800",children:r==null?void 0:r.name}),e.jsx("div",{className:"font-medium text-sm text-gray-500",children:r==null?void 0:r.email})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(N,{href:route("profile.edit"),children:"Perfil"}),e.jsx(N,{method:"post",href:route("logout"),as:"button",children:"Cerrar SesiÃ³n"})]})]})]})]})}function pt({children:t}){return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(ut,{}),e.jsx($e,{}),e.jsx("main",{className:"h-screen",children:t})]})}var C="Tabs",[gt,aa]=_(C,[O]),q=O(),[ft,R]=gt(C),W=n.forwardRef((t,a)=>{const{__scopeTabs:s,value:r,onValueChange:o,defaultValue:l,orientation:i="horizontal",dir:u,activationMode:p="automatic",...c}=t,m=Ge(u),[d,f]=k({prop:r,onChange:o,defaultProp:l});return e.jsx(ft,{scope:s,baseId:Ie(),value:d,onValueChange:f,orientation:i,dir:m,activationMode:p,children:e.jsx(y.div,{dir:m,"data-orientation":i,...c,ref:a})})});W.displayName=C;var H="TabsList",J=n.forwardRef((t,a)=>{const{__scopeTabs:s,loop:r=!0,...o}=t,l=R(H,s),i=q(s);return e.jsx(ze,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:r,children:e.jsx(y.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:a})})});J.displayName=H;var K="TabsTrigger",U=n.forwardRef((t,a)=>{const{__scopeTabs:s,value:r,disabled:o=!1,...l}=t,i=R(K,s),u=q(s),p=X(i.baseId,r),c=Z(i.baseId,r),m=r===i.value;return e.jsx(Be,{asChild:!0,...u,focusable:!o,active:m,children:e.jsx(y.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":c,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...l,ref:a,onMouseDown:b(t.onMouseDown,d=>{!o&&d.button===0&&d.ctrlKey===!1?i.onValueChange(r):d.preventDefault()}),onKeyDown:b(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(r)}),onFocus:b(t.onFocus,()=>{const d=i.activationMode!=="manual";!m&&!o&&d&&i.onValueChange(r)})})})});U.displayName=K;var Y="TabsContent",Q=n.forwardRef((t,a)=>{const{__scopeTabs:s,value:r,forceMount:o,children:l,...i}=t,u=R(Y,s),p=X(u.baseId,r),c=Z(u.baseId,r),m=r===u.value,d=n.useRef(m);return n.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),e.jsx(Oe,{present:o||m,children:({present:f})=>e.jsx(y.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!f,id:c,tabIndex:0,...i,ref:a,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&l})})});Q.displayName=Y;function X(t,a){return`${t}-trigger-${a}`}function Z(t,a){return`${t}-content-${a}`}var xt=W,ee=J,te=U,ae=Q;const vt=xt,se=n.forwardRef(({className:t,...a},s)=>e.jsx(ee,{ref:s,className:g("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...a}));se.displayName=ee.displayName;const A=n.forwardRef(({className:t,...a},s)=>e.jsx(te,{ref:s,className:g("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...a}));A.displayName=te.displayName;const D=n.forwardRef(({className:t,...a},s)=>e.jsx(ae,{ref:s,className:g("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a}));D.displayName=ae.displayName;class T{static createElement(a){const{id:s,title:r,type:o,element:l,video_url:i}=a,u=(l==null?void 0:l.video_id)??"";console.log(`type Element ${o}`);const p=this.creators[o];if(!p)throw new Error(`Unknown element type: ${o}`);let c={id:s.toString(),title:r,videoUrl:i,type:o,videoId:u};if(o===j.PRESENTER&&l){const{content:m,expression:d}=l;c={...c,content:m,expression:d}}else o===j.VIDEO&&(c={...c});return p.createElement(c)}}P(T,"creators",{[j.PRESENTER]:new qe,[j.VIDEO]:new He});class ht{static fromElementResponseToEntity(a){return a.map(T.createElement.bind(T))}}var re="AlertDialog",[jt,sa]=_(re,[L]),x=L(),oe=t=>{const{__scopeAlertDialog:a,...s}=t,r=x(a);return e.jsx(st,{...r,...s,modal:!0})};oe.displayName=re;var bt="AlertDialogTrigger",yt=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,o=x(s);return e.jsx(Ye,{...o,...r,ref:a})});yt.displayName=bt;var Nt="AlertDialogPortal",ne=t=>{const{__scopeAlertDialog:a,...s}=t,r=x(a);return e.jsx(at,{...r,...s})};ne.displayName=Nt;var wt="AlertDialogOverlay",ie=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,o=x(s);return e.jsx(Qe,{...o,...r,ref:a})});ie.displayName=wt;var v="AlertDialogContent",[At,Dt]=jt(v),le=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,children:r,...o}=t,l=x(s),i=n.useRef(null),u=M(a,i),p=n.useRef(null);return e.jsx(Xe,{contentName:v,titleName:ce,docsSlug:"alert-dialog",children:e.jsx(At,{scope:s,cancelRef:p,children:e.jsxs(Ze,{role:"alertdialog",...l,...o,ref:u,onOpenAutoFocus:b(o.onOpenAutoFocus,c=>{var m;c.preventDefault(),(m=p.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[e.jsx(Ve,{children:r}),e.jsx(Et,{contentRef:i})]})})})});le.displayName=v;var ce="AlertDialogTitle",de=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,o=x(s);return e.jsx(et,{...o,...r,ref:a})});de.displayName=ce;var me="AlertDialogDescription",ue=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,o=x(s);return e.jsx(tt,{...o,...r,ref:a})});ue.displayName=me;var Tt="AlertDialogAction",pe=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,o=x(s);return e.jsx(V,{...o,...r,ref:a})});pe.displayName=Tt;var ge="AlertDialogCancel",fe=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,{cancelRef:o}=Dt(ge,s),l=x(s),i=M(a,o);return e.jsx(V,{...l,...r,ref:i})});fe.displayName=ge;var Et=({contentRef:t})=>{const a=`\`${v}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${v}\` by passing a \`${me}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${v}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},Ct=oe,Rt=ne,xe=ie,ve=le,he=pe,je=fe,be=de,ye=ue;const Pt=Ct,St=Rt,Ne=n.forwardRef(({className:t,...a},s)=>e.jsx(xe,{className:g("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));Ne.displayName=xe.displayName;const we=n.forwardRef(({className:t,...a},s)=>e.jsxs(St,{children:[e.jsx(Ne,{}),e.jsx(ve,{ref:s,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));we.displayName=ve.displayName;const Ae=({className:t,...a})=>e.jsx("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",t),...a});Ae.displayName="AlertDialogHeader";const De=({className:t,...a})=>e.jsx("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});De.displayName="AlertDialogFooter";const Te=n.forwardRef(({className:t,...a},s)=>e.jsx(be,{ref:s,className:g("text-lg font-semibold",t),...a}));Te.displayName=be.displayName;const Ee=n.forwardRef(({className:t,...a},s)=>e.jsx(ye,{ref:s,className:g("text-sm text-muted-foreground",t),...a}));Ee.displayName=ye.displayName;const Ce=n.forwardRef(({className:t,...a},s)=>e.jsx(he,{ref:s,className:g($(),t),...a}));Ce.displayName=he.displayName;const Re=n.forwardRef(({className:t,...a},s)=>e.jsx(je,{ref:s,className:g($({variant:"outline"}),"mt-2 sm:mt-0",t),...a}));Re.displayName=je.displayName;const kt=({error:t})=>{const{message:a,statu:s}=t,{open:r,toggleModal:o}=E();return e.jsx(Pt,{open:r,onOpenChange:()=>o,children:e.jsxs(we,{children:[e.jsxs(Ae,{children:[e.jsxs(Te,{children:["Error: ",s]}),e.jsx(Ee,{children:a})]}),e.jsxs(De,{children:[e.jsx(Re,{onClick:()=>o(),children:"Cancel"}),e.jsx(Ce,{onClick:()=>o(),children:"Continue"})]})]})})};function _t({project:t,success:a,error:s}){const{toggleModal:r}=E(),{initElement:o,elements:l,togleSave:i}=I(),{post:u,wasSuccessful:p,errors:c}=S({elements:[],project_id:t.id.toString()});n.useEffect(()=>{console.log("activado"),a?(Ke.success("Generando vÃ­deos"),i()):s!=null&&r()},[p,a,c]),n.useEffect(()=>{const d=ht.fromElementResponseToEntity(t.elements);o(d)},[]);const m=async()=>{const d=l.filter(f=>f.type===j.PRESENTER).filter(f=>!f.videoUrl);d.length<1||(_e.post(`/elements/generate/${t.id}`,{elements:JSON.stringify(d),project_id:t.id.toString()}),u(`/elements/generate/${t.id}`))};return e.jsx(pt,{children:e.jsxs("div",{className:"grid grid-rows-4 h-full",children:[e.jsxs("div",{className:"row-span-3 grid grid-cols-2 h-full",children:[e.jsxs(vt,{defaultValue:"account",className:"bg-gray-200 dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-4 py-1",color:"",children:[e.jsxs(se,{className:"",children:[e.jsx(A,{value:"account",className:"",children:"Presentador"}),e.jsx(A,{value:"password",children:"Video"})]}),e.jsx(D,{value:"account",children:e.jsx(We,{})}),e.jsx(D,{value:"password",children:e.jsx(Je,{})})]}),e.jsx(rt,{})]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-100 row-span-1 ",children:[e.jsxs("div",{className:"flex justify-between mx-5",children:[e.jsx("h1",{className:"text-2xl tracking-tight hover:tracking-wid font-bold",children:"Guion"}),e.jsx(Fe,{onClick:m,children:"Generar contenido"})]}),e.jsx(Ue,{})]}),s&&e.jsx(kt,{error:s})]})})}const ra=lt(_t);export{ra as default};
