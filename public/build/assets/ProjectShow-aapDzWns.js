var Pe=Object.defineProperty;var Se=(t,s,a)=>s in t?Pe(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var P=(t,s,a)=>Se(t,typeof s!="symbol"?s+"":s,a);import{j as e,r as n,q as w,W as S,a as _e,y as Me}from"./app-BhyseZvx.js";import{N as $e,D as h,R as y,T as Ie}from"./sonner-BGFN5bBd.js";import{I as ke}from"./icon-XOgVwml7.js";import{u as _,c as b,b as M,d as $,e as Oe,f as Le,g as Ve,I as Fe,P as Ge}from"./radio-group-BWIrlt0f.js";import{P as N}from"./input-M8JoOS5y.js";import{c as ze,u as I,a as Be,b as k,B as qe}from"./button-BvIoBRpq.js";import{c as f}from"./shadcn-C-5SdYIA.js";import{u as O}from"./selected-project-DT7vhEXK.js";import{a as j}from"./element.model-r3-WMhpT.js";import{E as We,T as He}from"./TabPresenter-CUnlXoCD.js";import{E as Je,T as Ke}from"./TabVideo-BRISxH6T.js";import{J as Ue}from"./index-CP3xyWGf.js";import Ye from"./Timeline-4Go-K8sY.js";import{e as L,f as Qe,O as Xe,W as Ze,C as et,T as tt,D as st,a as V,P as at,R as ot}from"./index-DokySTOH.js";import rt from"./Player-e9fSxO7T.js";import"./transition-CCyE6tu2.js";import"./index-Cuq_700K.js";import"./element-presenter.model-DAjEEdYv.js";function nt(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"2rem",viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M21 7v12q0 .825-.587 1.413T19 21H5q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h12zm-9 11q1.25 0 2.125-.875T15 15t-.875-2.125T12 12t-2.125.875T9 15t.875 2.125T12 18m-6-8h9V6H6z"})})}const F=n.createContext({open:!1,toggleModal:()=>{}}),it=({children:t})=>{const[s,a]=n.useState(!1),o=()=>{a(r=>!r)};return e.jsx(F.Provider,{value:{open:s,toggleModal:o},children:t})},lt=t=>s=>e.jsx(it,{children:e.jsx(t,{...s})}),E=()=>n.useContext(F),ct=lt;var dt="Toggle",G=n.forwardRef((t,s)=>{const{pressed:a,defaultPressed:o=!1,onPressedChange:r,...l}=t,[i=!1,m]=_({prop:a,onChange:r,defaultProp:o});return e.jsx(N.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...l,ref:s,onClick:b(t.onClick,()=>{t.disabled||m(!i)})})});G.displayName=dt;var z=G;const ut=ze("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),B=n.forwardRef(({className:t,variant:s,size:a,...o},r)=>e.jsx(z,{ref:r,className:f(ut({variant:s,size:a,className:t})),...o}));B.displayName=z.displayName;function mt(){E(),w().props;const{isSave:t,togleSave:s,elements:a}=O(),{props:{project:o}}=w(),{data:r,post:l,wasSuccessful:i,errors:m}=S({elements:[],project_id:o.id.toString()}),p=()=>{t||a.length<1||(r.elements=a,l("/elements"))};return e.jsx(B,{pressed:!t,onPressedChange:p,children:e.jsx(nt,{})})}function pt(){const[t,s]=n.useState(!1),{props:a}=w(),{auth:{user:o}}=a,r=a.project;return e.jsxs("nav",{className:"bg-white border-b border-gray-100",children:[e.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between ali h-16",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"shrink-0 flex items-center",children:e.jsx(_e,{href:"/",children:e.jsx("img",{className:"h-14",src:"/Logo.jpg",alt:""})})}),e.jsx("div",{className:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex",children:e.jsx($e,{href:route("projects.index"),active:route().current("projects"),children:"Proyectos"})})]}),r&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 justify-center items-center text-xs md:text-sm text-center truncate ",children:[e.jsx("p",{className:"font-medium",children:r.name}),e.jsx("p",{children:r.presenter.full_name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"hidden sm:flex sm:items-center sm:ms-6",children:e.jsx("div",{className:"ms-3 relative",children:e.jsxs(h,{children:[e.jsx(h.Trigger,{children:e.jsxs("div",{className:"flex gap-2 justify-center items-center",children:[e.jsxs("span",{className:"flex gap-1",children:[o.pointer,e.jsx(ke,{})]}),e.jsx("span",{className:"inline-flex rounded-md",children:e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150",children:[o.name,e.jsx("svg",{className:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),e.jsxs(h.Content,{children:[e.jsx(h.Link,{href:route("profile.edit"),children:"Profile"}),e.jsx(h.Link,{href:route("logout"),method:"post",as:"button",children:"Log Out"})]})]})})}),e.jsx(mt,{})]}),e.jsx("div",{className:"-me-2 flex items-center sm:hidden",children:e.jsx("button",{onClick:()=>s(l=>!l),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out",children:e.jsxs("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("path",{className:t?"hidden":"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),e.jsx("path",{className:t?"inline-flex":"hidden",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})]})})})]})}),e.jsxs("div",{className:(t?"block":"hidden")+" sm:hidden",children:[e.jsx("div",{className:"pt-2 pb-3 space-y-1",children:e.jsx(y,{href:route("projects.index"),active:route().current("projects"),children:"Dashboard"})}),e.jsxs("div",{className:"pt-4 pb-1 border-t border-gray-200",children:[e.jsxs("div",{className:"px-4",children:[e.jsx("div",{className:"font-medium text-base text-gray-800",children:o==null?void 0:o.name}),e.jsx("div",{className:"font-medium text-sm text-gray-500",children:o==null?void 0:o.email})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(y,{href:route("profile.edit"),children:"Profile"}),e.jsx(y,{method:"post",href:route("logout"),as:"button",children:"Log Out"})]})]})]})]})}function ft({children:t}){return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(pt,{}),e.jsx(Ie,{}),e.jsx("main",{className:"",children:t})]})}var C="Tabs",[gt,es]=M(C,[$]),q=$(),[xt,R]=gt(C),W=n.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,onValueChange:r,defaultValue:l,orientation:i="horizontal",dir:m,activationMode:p="automatic",...d}=t,c=Oe(m),[u,x]=_({prop:o,onChange:r,defaultProp:l});return e.jsx(xt,{scope:a,baseId:Le(),value:u,onValueChange:x,orientation:i,dir:c,activationMode:p,children:e.jsx(N.div,{dir:c,"data-orientation":i,...d,ref:s})})});W.displayName=C;var H="TabsList",J=n.forwardRef((t,s)=>{const{__scopeTabs:a,loop:o=!0,...r}=t,l=R(H,a),i=q(a);return e.jsx(Ve,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:o,children:e.jsx(N.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:s})})});J.displayName=H;var K="TabsTrigger",U=n.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,disabled:r=!1,...l}=t,i=R(K,a),m=q(a),p=X(i.baseId,o),d=Z(i.baseId,o),c=o===i.value;return e.jsx(Fe,{asChild:!0,...m,focusable:!r,active:c,children:e.jsx(N.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":d,"data-state":c?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:p,...l,ref:s,onMouseDown:b(t.onMouseDown,u=>{!r&&u.button===0&&u.ctrlKey===!1?i.onValueChange(o):u.preventDefault()}),onKeyDown:b(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&i.onValueChange(o)}),onFocus:b(t.onFocus,()=>{const u=i.activationMode!=="manual";!c&&!r&&u&&i.onValueChange(o)})})})});U.displayName=K;var Y="TabsContent",Q=n.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,forceMount:r,children:l,...i}=t,m=R(Y,a),p=X(m.baseId,o),d=Z(m.baseId,o),c=o===m.value,u=n.useRef(c);return n.useEffect(()=>{const x=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Ge,{present:r||c,children:({present:x})=>e.jsx(N.div,{"data-state":c?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":p,hidden:!x,id:d,tabIndex:0,...i,ref:s,style:{...t.style,animationDuration:u.current?"0s":void 0},children:x&&l})})});Q.displayName=Y;function X(t,s){return`${t}-trigger-${s}`}function Z(t,s){return`${t}-content-${s}`}var vt=W,ee=J,te=U,se=Q;const ht=vt,ae=n.forwardRef(({className:t,...s},a)=>e.jsx(ee,{ref:a,className:f("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...s}));ae.displayName=ee.displayName;const A=n.forwardRef(({className:t,...s},a)=>e.jsx(te,{ref:a,className:f("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...s}));A.displayName=te.displayName;const D=n.forwardRef(({className:t,...s},a)=>e.jsx(se,{ref:a,className:f("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));D.displayName=se.displayName;class T{static createElement(s){const{id:a,title:o,type:r,element:l,video_url:i}=s,m=(l==null?void 0:l.video_id)??"";console.log(`type Element ${r}`);const p=this.creators[r];if(!p)throw new Error(`Unknown element type: ${r}`);let d={id:a.toString(),title:o,videoUrl:i,type:r,videoId:m};if(r===j.PRESENTER&&l){const{content:c,expression:u}=l;d={...d,content:c,expression:u}}else r===j.VIDEO&&(d={...d});return p.createElement(d)}}P(T,"creators",{[j.PRESENTER]:new We,[j.VIDEO]:new Je});class jt{static fromElementResponseToEntity(s){return s.map(T.createElement.bind(T))}}var oe="AlertDialog",[bt,ts]=M(oe,[L]),g=L(),re=t=>{const{__scopeAlertDialog:s,...a}=t,o=g(s);return e.jsx(ot,{...o,...a,modal:!0})};re.displayName=oe;var Nt="AlertDialogTrigger",yt=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,r=g(a);return e.jsx(Qe,{...r,...o,ref:s})});yt.displayName=Nt;var wt="AlertDialogPortal",ne=t=>{const{__scopeAlertDialog:s,...a}=t,o=g(s);return e.jsx(at,{...o,...a})};ne.displayName=wt;var At="AlertDialogOverlay",ie=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,r=g(a);return e.jsx(Xe,{...r,...o,ref:s})});ie.displayName=At;var v="AlertDialogContent",[Dt,Tt]=bt(v),le=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,children:o,...r}=t,l=g(a),i=n.useRef(null),m=I(s,i),p=n.useRef(null);return e.jsx(Ze,{contentName:v,titleName:ce,docsSlug:"alert-dialog",children:e.jsx(Dt,{scope:a,cancelRef:p,children:e.jsxs(et,{role:"alertdialog",...l,...r,ref:m,onOpenAutoFocus:b(r.onOpenAutoFocus,d=>{var c;d.preventDefault(),(c=p.current)==null||c.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(Be,{children:o}),e.jsx(Ct,{contentRef:i})]})})})});le.displayName=v;var ce="AlertDialogTitle",de=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,r=g(a);return e.jsx(tt,{...r,...o,ref:s})});de.displayName=ce;var ue="AlertDialogDescription",me=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,r=g(a);return e.jsx(st,{...r,...o,ref:s})});me.displayName=ue;var Et="AlertDialogAction",pe=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,r=g(a);return e.jsx(V,{...r,...o,ref:s})});pe.displayName=Et;var fe="AlertDialogCancel",ge=n.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...o}=t,{cancelRef:r}=Tt(fe,a),l=g(a),i=I(s,r);return e.jsx(V,{...l,...o,ref:i})});ge.displayName=fe;var Ct=({contentRef:t})=>{const s=`\`${v}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${v}\` by passing a \`${ue}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${v}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var o;document.getElementById((o=t.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},Rt=re,Pt=ne,xe=ie,ve=le,he=pe,je=ge,be=de,Ne=me;const St=Rt,_t=Pt,ye=n.forwardRef(({className:t,...s},a)=>e.jsx(xe,{className:f("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));ye.displayName=xe.displayName;const we=n.forwardRef(({className:t,...s},a)=>e.jsxs(_t,{children:[e.jsx(ye,{}),e.jsx(ve,{ref:a,className:f("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));we.displayName=ve.displayName;const Ae=({className:t,...s})=>e.jsx("div",{className:f("flex flex-col space-y-2 text-center sm:text-left",t),...s});Ae.displayName="AlertDialogHeader";const De=({className:t,...s})=>e.jsx("div",{className:f("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});De.displayName="AlertDialogFooter";const Te=n.forwardRef(({className:t,...s},a)=>e.jsx(be,{ref:a,className:f("text-lg font-semibold",t),...s}));Te.displayName=be.displayName;const Ee=n.forwardRef(({className:t,...s},a)=>e.jsx(Ne,{ref:a,className:f("text-sm text-muted-foreground",t),...s}));Ee.displayName=Ne.displayName;const Ce=n.forwardRef(({className:t,...s},a)=>e.jsx(he,{ref:a,className:f(k(),t),...s}));Ce.displayName=he.displayName;const Re=n.forwardRef(({className:t,...s},a)=>e.jsx(je,{ref:a,className:f(k({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));Re.displayName=je.displayName;const Mt=({error:t})=>{const{message:s,statu:a}=t,{open:o,toggleModal:r}=E();return e.jsx(St,{open:o,onOpenChange:()=>r,children:e.jsxs(we,{children:[e.jsxs(Ae,{children:[e.jsxs(Te,{children:["Error: ",a]}),e.jsx(Ee,{children:s})]}),e.jsxs(De,{children:[e.jsx(Re,{onClick:()=>r(),children:"Cancel"}),e.jsx(Ce,{onClick:()=>r(),children:"Continue"})]})]})})};function $t({project:t,flash:s}){console.log(s);const{toggleModal:a}=E(),{initElement:o,elements:r,togleSave:l}=O(),{post:i,wasSuccessful:m,errors:p}=S({elements:[],project_id:t.id.toString()});n.useEffect(()=>{console.log("activado"),s.success?(Ue.success("Generando vídeos"),l()):s.error!=null&&a()},[m,s]),n.useEffect(()=>{const c=jt.fromElementResponseToEntity(t.elements);o(c)},[]);const d=async()=>{const c=r.filter(u=>u.type===j.PRESENTER).filter(u=>!u.videoUrl);c.length<1||(Me.post(`/elements/generate/${t.id}`,{elements:JSON.stringify(c),project_id:t.id.toString()}),i(`/elements/generate/${t.id}`))};return e.jsx(ft,{children:e.jsxs("div",{className:"grid grid-rows-4 h-1/3",children:[e.jsxs("div",{className:"row-span-3 grid grid-cols-2",children:[e.jsxs(ht,{defaultValue:"account",className:"bg-slate-300 px-4 py-1",color:"",children:[e.jsxs(ae,{className:"",children:[e.jsx(A,{value:"account",className:"",children:"Presentador"}),e.jsx(A,{value:"password",children:"Video"})]}),e.jsx(D,{value:"account",children:e.jsx(He,{})}),e.jsx(D,{value:"password",children:e.jsx(Ke,{})})]}),e.jsx(rt,{})]}),e.jsxs("div",{className:"text-white row-span-1 bg-slate-700",children:[e.jsxs("div",{className:"flex justify-between mx-5",children:[e.jsx("h1",{className:"text-2xl tracking-tight hover:tracking-wid font-bold",children:"Guion"}),e.jsx(qe,{onClick:d,children:"Generar contenido"})]}),e.jsx(Ye,{})]}),s.error&&e.jsx(Mt,{error:s.error})]})})}const ss=ct($t);export{ss as default};
