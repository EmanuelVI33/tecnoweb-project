import{W as E,r as h,j as e}from"./app-mIvgi7q9.js";import{A as R}from"./AuthenticatedLayout-CxE87Uvp.js";import{D as C}from"./Dialog-BAP419mw.js";import{o as S,s as F,e as v,u as M,t as A,F as I,a as d,b as a,c as l,d as m,f as u}from"./form-yCao3SMx.js";import{J as T}from"./index-CKklIE-u.js";import{B as b}from"./button-BhpuKSDX.js";import{R as L,a as N}from"./radio-group--8rXvaH7.js";import{I as _}from"./input-R55A_0He.js";import{S as j}from"./presenter-CLZs53NS.js";import"./ResponsiveNavLink-BvrAKkzy.js";import"./transition-D1nVVH86.js";import"./sonner-NKqcBLuv.js";import"./icon-SE_dXAv0.js";import"./dialog-B_L33db0.js";import"./index-BNzkJJ_8.js";import"./index-MOI7GUpq.js";import"./index-lWbRec8w.js";import"./shadcn-C-5SdYIA.js";import"./index-0OVkvYRM.js";const B=S({full_name:F().min(3),sex:v([j.MALE,j.FEMALE]),photo_url:F()}),O={full_name:"",sex:j.MALE,photo_url:void 0};function w({handleCloseModal:r}){const{data:t,post:c,processing:x,errors:o,progress:p,wasSuccessful:f}=E(O),n=M({resolver:A(B)}),i=h.useRef(null),y=s=>{var g;console.log(s),i.current&&i.current.files&&(t.photo_url=(g=i.current)==null?void 0:g.files[0]),t.full_name=s.full_name,t.sex=s.sex,c("/presenters")};return h.useEffect(()=>{f&&(T.success("Presentador registrado exitosamente"),r())},[f]),e.jsx(e.Fragment,{children:e.jsx(I,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(y),children:[e.jsx(d,{control:n.control,name:"full_name",render:({field:s})=>e.jsxs(a,{className:"mb-3",children:[e.jsx(l,{children:"Nombre Completo"}),e.jsx(m,{children:e.jsxs(e.Fragment,{children:[e.jsx(_,{placeholder:"nombre completo",...s}),o.full_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:o.full_name})]})}),e.jsx(u,{})]})}),e.jsx(d,{control:n.control,name:"sex",render:({field:s})=>e.jsxs(a,{className:"mb-3",children:[e.jsx(l,{children:"Sexo"}),e.jsx(m,{children:e.jsxs(e.Fragment,{children:[e.jsxs(L,{onValueChange:s.onChange,defaultValue:s.value,className:"flex gap-4 space-y-1",children:[e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(m,{children:e.jsx(N,{value:"male"})}),e.jsx(l,{className:"font-normal",children:"Masculino"})]}),e.jsxs(a,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(m,{children:e.jsx(N,{value:"female"})}),e.jsx(l,{className:"font-normal",children:"Femenino"})]})]}),o.sex&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:o.sex})]})}),e.jsx(u,{})]})}),e.jsx(d,{control:n.control,name:"photo_url",render:({field:s})=>e.jsxs(a,{className:"mb-3",children:[e.jsx(l,{children:"Foto"}),e.jsx(m,{children:e.jsxs(e.Fragment,{children:[e.jsx(_,{type:"file",placeholder:"foto",...s,ref:i}),o.photo_url&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:o.photo_url})]})}),e.jsx(u,{})]})}),p&&e.jsxs("progress",{value:p.percentage,max:"100",children:[p.percentage,"%"]}),e.jsxs("div",{className:"flex justify-between gap-5 mt-5",children:[e.jsx(b,{type:"button",variant:"destructive",onClick:()=>r(),children:"Cancelar"}),e.jsx(b,{type:"submit",disabled:x,children:"Registrar"})]})]})})})}function D(){const[r,t]=h.useState(!1),c=()=>{t(x=>!x)};return e.jsx(C,{open:r,handleTogleModal:c,title:"Registrando presentador",titleButton:"Registrar presentador",children:e.jsx(w,{handleCloseModal:c})})}function te({auth:r,presenters:t}){return e.jsx(R,{user:r.user,children:e.jsx(D,{})})}export{te as default};
