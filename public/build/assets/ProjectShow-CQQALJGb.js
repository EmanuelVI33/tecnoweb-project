var ce=Object.defineProperty;var de=(t,s,r)=>s in t?ce(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var w=(t,s,r)=>de(t,typeof s!="symbol"?s+"":s,r);import{j as e,r as n,q as y,W as E,a as me,y as pe}from"./app-CtOOS7DE.js";import{N as ge,T as ue}from"./sonner-DaLyzcpo.js";import{D as h,R as j}from"./ResponsiveNavLink-DyQfDSFr.js";import{u as xe,b as T,c as fe}from"./index-BGMcDQWq.js";import{P as he}from"./index-CXbiOPne.js";import{c as ve,u as C,a as je,b as P,B as ye}from"./button-DoGT9RJy.js";import{c as m}from"./shadcn-C-5SdYIA.js";import{u as S}from"./selected-project-Q16pTGkL.js";import{T as Ne,a as be,b as D,c as A}from"./tabs-BAg28GUH.js";import{a as v}from"./element.model-r3-WMhpT.js";import{E as we,T as De}from"./TabPresenter-DJrYtxMQ.js";import{E as Ae,T as Ee}from"./TabVideo-BGEwQ0dm.js";import{J as Te}from"./index-DdRWKeN6.js";import Ce from"./Timeline-B3E6-3y0.js";import{e as R,f as Pe,O as Se,W as Re,C as ke,T as _e,D as Me,a as k,P as Oe,R as $e}from"./index-BpmYaZSh.js";import Le from"./Player-OQPp_GeD.js";import"./transition-DeeN6His.js";import"./index-gOUqg7wj.js";import"./index-BV_F_IO6.js";import"./form-CtmRDlmk.js";import"./input-Q-DC7i88.js";import"./radio-group-Cmw3PhFA.js";import"./element-presenter.model-DAjEEdYv.js";import"./card-DF5boF-W.js";function Ie(t){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"2rem",viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M21 7v12q0 .825-.587 1.413T19 21H5q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h12zm-9 11q1.25 0 2.125-.875T15 15t-.875-2.125T12 12t-2.125.875T9 15t.875 2.125T12 18m-6-8h9V6H6z"})})}const _=n.createContext({open:!1,toggleModal:()=>{}}),Ve=({children:t})=>{const[s,r]=n.useState(!1),a=()=>{r(o=>!o)};return e.jsx(_.Provider,{value:{open:s,toggleModal:a},children:t})},ze=t=>s=>e.jsx(Ve,{children:e.jsx(t,{...s})}),b=()=>n.useContext(_),Ge=ze;var qe="Toggle",M=n.forwardRef((t,s)=>{const{pressed:r,defaultPressed:a=!1,onPressedChange:o,...i}=t,[l=!1,g]=xe({prop:r,onChange:o,defaultProp:a});return e.jsx(he.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":t.disabled?"":void 0,...i,ref:s,onClick:T(t.onClick,()=>{t.disabled||g(!l)})})});M.displayName=qe;var O=M;const Be=ve("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),$=n.forwardRef(({className:t,variant:s,size:r,...a},o)=>e.jsx(O,{ref:o,className:m(Be({variant:s,size:r,className:t})),...a}));$.displayName=O.displayName;function We(){b(),y().props;const{isSave:t,togleSave:s,elements:r}=S(),{props:{project:a}}=y(),{data:o,post:i,wasSuccessful:l,errors:g}=E({elements:[],project_id:a.id.toString()}),u=()=>{t||r.length<1||(o.elements=r,i("/elements"))};return e.jsx($,{pressed:!t,onPressedChange:u,children:e.jsx(Ie,{})})}function Fe(){const[t,s]=n.useState(!1),{props:r}=y(),{auth:{user:a}}=r,o=r.project,i=()=>{document.documentElement.classList.toggle("dark")};return e.jsxs("nav",{className:"bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 border-b border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between ali h-16",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"shrink-0 flex items-center",children:e.jsx(me,{href:"/",children:e.jsx("img",{className:"h-14",src:"/Logo.jpg",alt:""})})}),e.jsx("div",{className:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex",children:e.jsx(ge,{href:route("projects.index"),active:route().current("projects"),children:"Proyectos"})})]}),o&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 justify-center items-center text-xs md:text-sm text-center truncate ",children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsx("p",{children:o.presenter.full_name})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"hidden sm:flex sm:items-center sm:ms-6",children:[e.jsx("button",{className:"rounded text-gray-900 dark:text-gray-100 hover:bg-slate-100 dark:hover:bg-slate-700 px-1 ml-4",onClick:i,children:"ðŸŒ™"}),e.jsx("div",{className:"ms-3 relative",children:e.jsxs(h,{children:[e.jsx(h.Trigger,{children:e.jsx("div",{className:" text-slate-600 dark:bg-transparent dark:bg-slate-800 dark:text-white flex gap-2 justify-center items-center",children:e.jsx("span",{className:"inline-flex rounded-md",children:e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white dark:bg-gray-700 dark:text-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150",children:[a.name,e.jsx("svg",{className:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})})}),e.jsxs(h.Content,{children:[e.jsx(h.Link,{href:route("profile.edit"),children:"Perfil"}),e.jsx(h.Link,{href:route("logout"),method:"post",as:"button",children:"Cerrar SesiÃ³n"})]})]})})]}),e.jsx(We,{})]}),e.jsx("div",{className:"-me-2 flex items-center sm:hidden",children:e.jsx("button",{onClick:()=>s(l=>!l),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out",children:e.jsxs("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("path",{className:t?"hidden":"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),e.jsx("path",{className:t?"inline-flex":"hidden",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})]})})})]})}),e.jsxs("div",{className:(t?"block":"hidden")+" sm:hidden",children:[e.jsx("div",{className:"pt-2 pb-3 space-y-1",children:e.jsx(j,{href:route("projects.index"),active:route().current("projects"),children:"Dashboard"})}),e.jsxs("div",{className:"pt-4 pb-1 border-t border-gray-200",children:[e.jsxs("div",{className:"px-4",children:[e.jsx("div",{className:"font-medium text-base text-gray-800",children:a==null?void 0:a.name}),e.jsx("div",{className:"font-medium text-sm text-gray-500",children:a==null?void 0:a.email})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(j,{href:route("profile.edit"),children:"Perfil"}),e.jsx(j,{method:"post",href:route("logout"),as:"button",children:"Cerrar SesiÃ³n"})]})]})]})]})}function He({children:t}){return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(Fe,{}),e.jsx(ue,{}),e.jsx("main",{className:"h-screen",children:t})]})}class N{static createElement(s){const{id:r,title:a,type:o,element:i,video_url:l}=s,g=(i==null?void 0:i.video_id)??"";console.log(`type Element ${o}`);const u=this.creators[o];if(!u)throw new Error(`Unknown element type: ${o}`);let c={id:r.toString(),title:a,videoUrl:l,type:o,videoId:g};if(o===v.PRESENTER&&i){const{content:d,expression:f}=i;c={...c,content:d,expression:f}}else o===v.VIDEO&&(c={...c});return u.createElement(c)}}w(N,"creators",{[v.PRESENTER]:new we,[v.VIDEO]:new Ae});class Je{static fromElementResponseToEntity(s){return s.map(N.createElement.bind(N))}}var L="AlertDialog",[Ue,Mt]=fe(L,[R]),p=R(),I=t=>{const{__scopeAlertDialog:s,...r}=t,a=p(s);return e.jsx($e,{...a,...r,modal:!0})};I.displayName=L;var Ye="AlertDialogTrigger",Ke=n.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,o=p(r);return e.jsx(Pe,{...o,...a,ref:s})});Ke.displayName=Ye;var Qe="AlertDialogPortal",V=t=>{const{__scopeAlertDialog:s,...r}=t,a=p(s);return e.jsx(Oe,{...a,...r})};V.displayName=Qe;var Xe="AlertDialogOverlay",z=n.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,o=p(r);return e.jsx(Se,{...o,...a,ref:s})});z.displayName=Xe;var x="AlertDialogContent",[Ze,et]=Ue(x),G=n.forwardRef((t,s)=>{const{__scopeAlertDialog:r,children:a,...o}=t,i=p(r),l=n.useRef(null),g=C(s,l),u=n.useRef(null);return e.jsx(Re,{contentName:x,titleName:q,docsSlug:"alert-dialog",children:e.jsx(Ze,{scope:r,cancelRef:u,children:e.jsxs(ke,{role:"alertdialog",...i,...o,ref:g,onOpenAutoFocus:T(o.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=u.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[e.jsx(je,{children:a}),e.jsx(st,{contentRef:l})]})})})});G.displayName=x;var q="AlertDialogTitle",B=n.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,o=p(r);return e.jsx(_e,{...o,...a,ref:s})});B.displayName=q;var W="AlertDialogDescription",F=n.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,o=p(r);return e.jsx(Me,{...o,...a,ref:s})});F.displayName=W;var tt="AlertDialogAction",H=n.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,o=p(r);return e.jsx(k,{...o,...a,ref:s})});H.displayName=tt;var J="AlertDialogCancel",U=n.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,{cancelRef:o}=et(J,r),i=p(r),l=C(s,o);return e.jsx(k,{...i,...a,ref:l})});U.displayName=J;var st=({contentRef:t})=>{const s=`\`${x}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${x}\` by passing a \`${W}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${x}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var a;document.getElementById((a=t.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},rt=I,at=V,Y=z,K=G,Q=H,X=U,Z=B,ee=F;const ot=rt,nt=at,te=n.forwardRef(({className:t,...s},r)=>e.jsx(Y,{className:m("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));te.displayName=Y.displayName;const se=n.forwardRef(({className:t,...s},r)=>e.jsxs(nt,{children:[e.jsx(te,{}),e.jsx(K,{ref:r,className:m("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));se.displayName=K.displayName;const re=({className:t,...s})=>e.jsx("div",{className:m("flex flex-col space-y-2 text-center sm:text-left",t),...s});re.displayName="AlertDialogHeader";const ae=({className:t,...s})=>e.jsx("div",{className:m("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});ae.displayName="AlertDialogFooter";const oe=n.forwardRef(({className:t,...s},r)=>e.jsx(Z,{ref:r,className:m("text-lg font-semibold",t),...s}));oe.displayName=Z.displayName;const ne=n.forwardRef(({className:t,...s},r)=>e.jsx(ee,{ref:r,className:m("text-sm text-muted-foreground",t),...s}));ne.displayName=ee.displayName;const ie=n.forwardRef(({className:t,...s},r)=>e.jsx(Q,{ref:r,className:m(P(),t),...s}));ie.displayName=Q.displayName;const le=n.forwardRef(({className:t,...s},r)=>e.jsx(X,{ref:r,className:m(P({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));le.displayName=X.displayName;const it=({error:t})=>{const{message:s,statu:r}=t,{open:a,toggleModal:o}=b();return e.jsx(ot,{open:a,onOpenChange:()=>o,children:e.jsxs(se,{children:[e.jsxs(re,{children:[e.jsxs(oe,{children:["Error: ",r]}),e.jsx(ne,{children:s})]}),e.jsxs(ae,{children:[e.jsx(le,{onClick:()=>o(),children:"Cancel"}),e.jsx(ie,{onClick:()=>o(),children:"Continue"})]})]})})};function lt({project:t,flash:s}){console.log(s);const{toggleModal:r}=b(),{initElement:a,elements:o,togleSave:i}=S(),{post:l,wasSuccessful:g,errors:u}=E({elements:[],project_id:t.id.toString()});n.useEffect(()=>{console.log("activado"),s.success?(Te.success("Generando vÃ­deos"),i()):s.error!=null&&r()},[g,s]),n.useEffect(()=>{const d=Je.fromElementResponseToEntity(t.elements);a(d)},[]);const c=async()=>{const d=o.filter(f=>f.type===v.PRESENTER).filter(f=>!f.videoUrl);d.length<1||(pe.post(`/elements/generate/${t.id}`,{elements:JSON.stringify(d),project_id:t.id.toString()}),l(`/elements/generate/${t.id}`))};return e.jsx(He,{children:e.jsxs("div",{className:"grid grid-rows-4 h-full",children:[e.jsxs("div",{className:"row-span-3 grid grid-cols-2 h-full",children:[e.jsxs(Ne,{defaultValue:"account",className:"bg-gray-200 dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-4 py-1",color:"",children:[e.jsxs(be,{className:"",children:[e.jsx(D,{value:"account",className:"",children:"Presentador"}),e.jsx(D,{value:"password",children:"Video"})]}),e.jsx(A,{value:"account",children:e.jsx(De,{})}),e.jsx(A,{value:"password",children:e.jsx(Ee,{})})]}),e.jsx(Le,{})]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-100 row-span-1 ",children:[e.jsxs("div",{className:"flex justify-between mx-5",children:[e.jsx("h1",{className:"text-2xl tracking-tight hover:tracking-wid font-bold",children:"Guion"}),e.jsx(ye,{onClick:c,children:"Generar contenido"})]}),e.jsx(Ce,{})]}),s.error&&e.jsx(it,{error:s.error})]})})}const Ot=Ge(lt);export{Ot as default};
